<section class="content-header">
    <h1 *ngIf="item?.id === 0">Add New Offender</h1>
    <h1 *ngIf="item?.id !== 0">Edit Offender</h1>
</section>
<section class="content">
    <form class="form-horizontal" [formGroup]="formGroup" *ngIf="formGroup">
        <form-errors [formGroup]="formGroup" *ngIf="submitted"></form-errors>
        <div class="row">
            <div class="col-sm-6">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Name</h3>
                    </div>
                    <div class="box-body form-horizontal">
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="firstName">First Name</label>
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="firstName" placeholder="First Name" autocomplete="off" formControlName="firstName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="lastName">Last Name</label>
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="lastName" placeholder="Last Name" autocomplete="off" formControlName="lastName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="relationship">Relationship to Victim</label>
                            <div class="col-lg-9">
                                <select class="form-control" id="relationship" formControlName="relationshipTypeId">
                                    <option value="">Select One</option>
                                    <option *ngFor="let rt of relationshipTypes" [value]="rt.id">{{rt.name}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Prior Offenses</h3>
                    </div>
                    <div class="box-body form-horizontal">
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="priorOffenses">Has Prior Offenses</label>
                            <div class="col-lg-9">
                                <input type="checkbox" id="priorOffenses" autocomplete="off" formControlName="priorOffenses">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="numberOfOffenses">Number of Offenses</label>
                            <div class="col-lg-9">
                                <input type="number" class="form-control" id="numberOfOffenses" placeholder="Number of Offenses" autocomplete="off" formControlName="numberOfOffenses">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="comments">Comments</label>
                            <div class="col-lg-9">
                                <textarea class="form-control" id="comments" placeholder="Comments" autocomplete="off" formControlName="comments"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Address</h3>
                    </div>
                    <div class="box-body form-horizontal">
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="address">Address</label>
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="address" placeholder="Address" autocomplete="off" formControlName="address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="city">City</label>
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="city" placeholder="City" autocomplete="off" formControlName="city">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="state">State</label>
                            <div class="col-lg-9">
                                <select class="form-control" id="state" formControlName="stateId">
                                    <option *ngFor="let s of states" [value]="s.id">{{s.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="zipCode">Zip Code</label>
                            <div class="col-lg-9">
                                <input type="text" class="form-control" id="zipCode" placeholder="Zip Code" (blur)="lookupZip()" autocomplete="off" formControlName="zipCode">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Demographics</h3>
                    </div>
                    <div class="box-body form-horizontal">
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="gender">Gender</label>
                            <div class="col-lg-9">
                                <select class="form-control" id="gender" formControlName="genderId">
                                    <option value="">Select One</option>
                                    <option *ngFor="let g of genders" [value]="g.id">{{g.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="ethnicity">Ethnicity</label>
                            <div class="col-lg-9">
                                <select class="form-control" id="ethnicity" formControlName="ethnicityId">
                                    <option value="">Select One</option>
                                    <option *ngFor="let e of ethnicities" [value]="e.id">{{e.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="dob">Date of Birth</label>
                            <div class="col-lg-9">
                                <p-calendar name="dob" id="dob" formControlName="dob"></p-calendar>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="ageGrouping">Age Grouping</label>
                            <div class="col-lg-9">
                                <select class="form-control" id="ageGrouping" formControlName="ageGroupingId">
                                    <option value="">Select One</option>
                                    <option *ngFor="let ag of ageGroupings" [value]="ag.id">{{ag.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3 control-label" for="age">Age</label>
                            <div class="col-lg-9">
                                <input type="number" class="form-control" id="age" placeholder="Age" autocomplete="off" formControlName="age">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <last-edit-info [item]="item" [title]="'Offender Info'"></last-edit-info>
    <div class="row">
        <div class="col-sm-12">
            <button type="button" class="btn btn-primary" (click)="submit(formGroup.value)"><i class="fa fa-save"></i> Save</button>
            <button type="button" class="btn btn-default" (click)="cancel()"><i class="fa fa-close"></i> Close</button>
        </div>
    </div>
</section>
